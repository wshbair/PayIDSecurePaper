"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express = require("express");
const errorHandler_1 = require("../middlewares/errorHandler");
const metrics_1 = require("../services/metrics");
const metricsRouter = express.Router();
/**
 * Routes for the metrics report generated by Prometheus.
 */
metricsRouter
    .get('/', (_req, res, next) => {
    res.set('Content-Type', 'text/plain');
    res.send(metrics_1.default.getMetrics());
    return next();
})
    // Error handling middleware needs to be defined last
    .use(errorHandler_1.default);
exports.default = metricsRouter;
//# sourceMappingURL=metricsRouter.js.map